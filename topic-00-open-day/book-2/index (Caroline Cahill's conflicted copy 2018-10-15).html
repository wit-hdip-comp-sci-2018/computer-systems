

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.10/css/uikit.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.10/js/uikit.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.10/js/uikit-icons.min.js"></script>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/railscasts.min.css"/>
    <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/java.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </head>
  <style>
    

body {
  font-family: "Open Sans", "Helvetica", "Helvetica Neue",  "Arial", sans-serif;
  font-size:90%;
  color: black;
}

p {
  margin: 0.5em;
}

pre code {
  font-family: "Monaco";
  font-size: 100%;
}

img {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
  margin:10px;
}

h1, h2, h3 {
  border-bottom:thin solid black;
  margin-bottom: 0.5em;
  margin-top: 1em;
}

h1 {
  font-style:italic;
  font-size:130%;
}

h2 {
  font-size:110%;
}

h3 {
  font-size:100%;
}



  </style>

  <body class="lab">

    
  <div class="uk-offcanvas-content">
    <div id="offcanvas-usage" uk-offcanvas>
      <div class="uk-offcanvas-bar">
        <button class="uk-offcanvas-close" type="button" uk-close></button>
        <ul class="uk-nav">
          
            
              <li>
                <a class="item" href="http://wit-hdip-comp-sci-2018.github.io/computer-systems//topic-00-open-day/book-1/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Preparatory Lab
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-hdip-comp-sci-2018.github.io/computer-systems//topic-00-open-day/book-2/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Shell Scripting
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-hdip-comp-sci-2018.github.io/computer-systems//topic-00-open-day/book-3/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Vagrant and Sense HAT
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-hdip-comp-sci-2018.github.io/computer-systems//unit-1/book-a/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Linux Practice Exercises
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-hdip-comp-sci-2018.github.io/computer-systems//unit-2/book-a/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Home Network
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-hdip-comp-sci-2018.github.io/computer-systems//unit-1/book-a/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Scripting Exercises
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-hdip-comp-sci-2018.github.io/computer-systems//unit-2/book-1-vagrant/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Vagrant and Virtualisation
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-hdip-comp-sci-2018.github.io/computer-systems//unit-1/book-a/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
CPU
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-hdip-comp-sci-2018.github.io/computer-systems//unit-2/book-1-packet-sniffing/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Packet Sniffing using TShark
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-hdip-comp-sci-2018.github.io/computer-systems//unit-1/book-a/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Labs
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-hdip-comp-sci-2018.github.io/computer-systems//unit-2/book-1-IP-Networking/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
IP Networking
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-hdip-comp-sci-2018.github.io/computer-systems//unit-1/book-a/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Labs
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-hdip-comp-sci-2018.github.io/computer-systems//unit-1/book-a/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
Labs
                </a>
              </li>
            
          
            
              <li>
                <a class="item" href="http://wit-hdip-comp-sci-2018.github.io/computer-systems//topic-06-pi/book-a/index.html">
  <i class="fas fa-flask " style="color:#00BCD4"> </i>
The Headless RPi
                </a>
              </li>
            
          
        </ul>
      </div>
    </div>
  </div>


    <div uk-sticky>
      <nav class="uk-navbar">
        <div class="uk-navbar-left">
          <ul class="uk-subnav uk-background-secondary uk-subnav-pill">
            <li><a href="#offcanvas-usage" uk-icon="icon: menu" , uk-toggle title="Switch Lab" pos="bottom"
                   uk-tooltip></a></li>
            
              <li class="uk-active"><a href="../index.html" uk-icon="icon: chevron-up" uk-toggle title="Parent Topic"
                                     pos="bottom" uk-tooltip> On-Site Workshop: June 14 </a></li>
            
          </ul>
        </div>
        <div class="uk-navbar-right">
          <ul class="uk-subnav uk-background-secondary uk-subnav-pill"
              uk-switcher="connect: .switcher-container">
            
              <li><a href="#">Shell Scripting</a></li>
            
              <li><a href="#">01</a></li>
            
              <li><a href="#">02</a></li>
            
              <li><a href="#">03</a></li>
            
              <li><a href="#">04</a></li>
            
              <li><a href="#">Exercises</a></li>
            
              <li><a href="#">06</a></li>
            
          </ul>
        </div>
      </nav>
    </div>

    <div class="uk-container uk-container-expand">
      <ul class="uk-switcher switcher-container">
        
          <li> <h1>Shell Scripting</h1>
<p>Shell basics · Files · Users · Permissions</p>
<h2>What is “Shell Scripting”?</h2>
<ul>
<li>In Linux, it is sometimes necessary to perform a number of complex shell commands in order to achieve an overall goal. </li>
<li>In the situation where we have to perform a sequence of complex or repetitive shell commands, this process can be very tedious and time consuming. </li>
<li><p>The interpretative nature of the shell in Linux provides us with an alternative that helps speeds up this process. </p>
</li>
<li><p>This facility is known as <strong>“Shell Scripting”</strong> or <strong>“Shell Programming”</strong> . </p>
</li>
</ul>
<p>A script is a file containing shell commands that can interact with the user, repeat commands and make decisions. </p>
<p>To avail of this flexibility provided by “Shell Programming”, all we need to do is to:</p>
<ol>
<li>Place the shell commands (which we would normally type at the command prompt) into a file and </li>
<li>then execute the file.</li>
</ol>
</li>
        
          <li> <h2>Be careful of the Basics:</h2>
<ol>
<li>Linux IS case sensitive so be careful with working with filenames and with commands</li>
<li>Become familiar with naming conventions i.e. no spaces</li>
<li>In Linux, the shell is a program that interprets commands &amp; acts as an intermediary between the user and the inner workings of the OS. </li>
</ol>
<h2>We will use the Ubuntu Distribution</h2>
<p>There are some basic exercises that we will complete from today&#39;s handout now.</p>
<h2>Manual</h2>
<p>There is a very comprehensive manual included which can be used simply by the <strong><em>man</em></strong> command, i.e. </p>
<pre><code>man ls</code></pre>
<p>which will return with the manual page for the <strong><em>ls</em></strong> command.</p>
<h2>Examples of some shell scripting commands:</h2>
<ol>
<li>Suppose we need to find out the number of logged-in users several times throughout the day:
The Linux command would be as follows:<pre><code> $ who | wc –l</code></pre>
Please note:<ul>
<li>This is the lowercase letter &quot; <strong>l</strong> &quot;, not the number &quot;1&quot; </li>
<li>Do NOT type the $ sign - this is just shorthand for the command line prompt</li>
</ul>
</li>
</ol>
<p>Note that this command is actually a combination of two commands, connected by a pipe.  </p>
<p>A pipe is used to connect the output of one command to the input of another command. The vertical bar symbol <strong>|</strong> is used to specify a pipe.  In this example, the output of who is provided as input to the <strong>wc –l</strong> command.  who lists the users currently logged on, one per line.  <strong>wc –l</strong> counts the number of lines in its input.</p>
<p>So, to avoid having to re-type this command each time we wish to find out how many users are logged in, we will create a file called <strong><em>numusers</em></strong>.</p>
<h2>Creating a Shell Scripting File</h2>
<p><strong>nano</strong> is a command-line text editor. 
<strong>gedit</strong> is a good graphical alternative</p>
<ol>
<li>We create the file<pre><code> $nano numusers</code></pre>
</li>
<li>We type in the shell command<pre><code> who | wc –l</code></pre>
</li>
<li>We save the file <pre><code> CTRL+O</code></pre>
</li>
<li>And exit the file<pre><code> CTRL+X</code></pre>
</li>
<li>To execute the commands contained in the file numusers, all you now have to do is type <strong>./numusers</strong> at the command line</li>
</ol>
<pre><code>    $ ./numusers
    bash: ./numusers: Permission denied
    $</code></pre>
<p>So what went wrong?  </p>
</li>
        
          <li> <h2>File Permissions and Re-directing output</h2>
<pre><code>    $ ls -l numusers</code></pre>
<p>This will show the permissions of the file <strong><em>numusers</em></strong> </p>
<p>Before you can execute a program this way, you must change the file’s permissions and make it <strong>executable</strong>.<br>Use the <strong>chmod</strong> (change file modes) command to do this:</p>
<pre><code>    $ chmod 755 numusers</code></pre>
<ol>
<li><p>So as the first part of this exercise, create and run the above shell script <strong><em>numusers</em></strong></p>
<p>You can put any commands at all inside a file, make the file executable, and then execute its contents simply by typing it name to the shell. </p>
<p>It’s that simple and that powerful.</p>
</li>
<li><p>As an extension to the script above, use the shell script in conjunction with the file re-direction operator to redirect the output to a file called “<strong><em>howmany</em></strong>”</p>
<pre><code> $ ./numusers &gt; howmany</code></pre>
</li>
<li><p>To see what has been written to the howmany file, enter</p>
<pre><code>  $ cat howmany</code></pre>
</li>
</ol>
<h2>ASIDE: A practical use of the Octal numbering system</h2>
<pre><code>    $ ls -l numusers</code></pre>
<p>will show the amended file permissions that you&#39;ve set for the file <strong><em>numusers</em></strong>. </p>
<p>For all files, <strong><em>read</em></strong>, <strong><em>write</em></strong> and <strong><em>execute</em></strong> permissions can be granted on the file for three categories, namely <strong><em>user</em></strong>, <strong><em>group</em></strong> and <strong><em>others</em></strong>.</p>
<p>Preceeding the permissions, when using the <strong><em>ls -l</em></strong> command, is the fIle type:</p>
<ul>
<li>&quot; - &quot; means a file</li>
<li>&quot; d &quot; means a directory</li>
</ul>
<p>For example: </p>
<pre><code> $ chmod 755 numusers</code></pre>
<p>will assign read, write and execute permission to the <strong><em>owner</em></strong>, and just read and execute permission to everyone else (<strong><em>group</em></strong> and <strong><em>others</em></strong>), on the file called <strong><em>numusers</em></strong></p>
<p>Octal <strong><em>755</em></strong> (base8) converts to Binary 111101101 (base2). </p>
<p>Splitting this binary number above that has 9 digits into three groups for each of the three categories of file user, where each 1 meaning turning on for the respective permission, gives the following file permissions:</p>
<p>111 101 101 (base2)</p>
<p><strong><em>owner 111</em></strong> All read  write  execute permissions (read=1, write=1, exe=1)</p>
<p><strong><em>group 101</em></strong> Only read and execute permissions (read=1, write=0, exe=1)</p>
<p><strong><em>others 101</em></strong> Only read and execute permissions (read=1, write=0, exe=1)</p>
<h2>TIP</h2>
<p>We could shorten this command again to </p>
<pre><code> $ chmod +x numusers</code></pre>
</li>
        
          <li> <h1>Example 2</h1>
<p>For the next example suppose you want to write a shell program called “<strong><em>stats</em></strong>” that prints the date and time, the number of users logged in, and your current working directory. </p>
<p>You know that the three command sequences you need to get this information are: </p>
<pre><code>date, who | wc –l, and pwd.</code></pre>
<pre><code>$ nano stats
   Enter the lines:
   date
   who | wc –l
   pwd
$ chmod +x stats
$ ./stats
   Thu May 15 14:12:23 IST 2014
   3
   /home/jbloggs/
$</code></pre>
<p>To make the output of this script a bit more user friendly we can add some text to the script, to appear at certain points of the programs execution. This functionality is achieved through the use of the shell command <strong>echo</strong>. Add the following lines to your <strong><em>stats</em></strong> program </p>
<pre><code>$ nano stats
  echo The current time and date is:
  date
  echo
  echo The number of users on the system is: 
  who | wc –l
  echo
  echo Your current working directory is:
  pwd</code></pre>
<p>Save your file and exit</p>
<p>Run the script</p>
</li>
        
          <li> <h1>COMMENTS</h1>
<p>The Shell Programming language would not be complete without a <strong><em>comment statement</em></strong>. </p>
<p>A comment statement allows you to insert remarks or comments about your program without it having any effect on its execution. </p>
<ul>
<li>Can you think why a program might benefit from <strong><em>comments</em></strong>?</li>
</ul>
<p>Whenever the shell encounters the special character <strong><em>#</em></strong> at the beginning of a word or line, it takes whatever characters following the <strong><em>#</em></strong> as comments and simply ignores them:</p>
<pre><code># Author: C Cahill
# Program Description:
# This program calculates the amount of CPU usage of each user ………</code></pre>
<p>Comments are useful for documenting commands or sequences of commands whose purpose may not be obvious. </p>
<h1>VARIABLES</h1>
<p>Like virtually all programming languages, the shell allows you to store values into <strong><em>variables</em></strong>.  </p>
<p>To store a value in a shell variable, you simply write the name of the variable followed immediately by the equals sign =, followed immediately by the value you wish the variable to contain </p>
<p><strong>N.B. do not use spaces</strong></p>
<p>variable_name=value</p>
<pre><code>$ count=1</code></pre>
<p>To assign the value /home/username/bin to the variable mybin, you simply write </p>
<pre><code>$ mybin=/home/username/bin</code></pre>
<p><strong><em>NOTE: (replace username with your user name)</em></strong></p>
<p>Two points are worth noting at this stage:</p>
<ol>
<li><p>Remember, spaces are <strong>not</strong> permitted on either side of the equals sign</p>
</li>
<li><p>Unlike most programming languages the shell has <strong><em>no concept of data types</em></strong>.</p>
</li>
</ol>
<p>Whenever you assign a value to a shell variable, no matter what it is the shell simply interprets that value as a string of characters. So when we stored the value 1 into the shell variable count above, the shell made no distinction whatsoever that an integer value was being stored in the variable.</p>
<h1>Displaying the values of Variables</h1>
<p>Using the <strong><em>echo</em></strong> command encountered above, we can display the value stored in a shell variable as follows:</p>
<pre><code>echo $variable_name</code></pre>
<p>The shell recognises the <strong>$</strong> as a special character, if a valid variable name follows the <strong><em>$</em></strong> the shell understands that it is to substitute the value in place of the variable name.</p>
<pre><code>$ echo $count
$ echo $mybin</code></pre>
<h1>Program input</h1>
<p>Using the <strong><em>read</em></strong> command allows us to get input form the user into a variable:</p>
<p><strong><em>read variable_name</em></strong><br>(note no <strong><em>$</em></strong> sign before variable name)</p>
<pre><code>$ read number
365    (entered by user)
$ echo $number
365    (output)</code></pre>
</li>
        
          <li> <h1>Exercises</h1>
<p>Please complete the following file in your own time</p>
<ul>
<li><a href="./archives/archive.zip">Scripting Exercises</a></li>
</ul>
<p>The above file will introduce you to:</p>
<ol>
<li>Arithmetic</li>
<li>IF statements</li>
<li>WHILE and FOR loops</li>
<li>plus links to very useful online resources</li>
</ol>
</li>
        
          <li> <h1>Bionic Beaver!!!!!!!!!!!!</h1>
<h1>Ubuntu 18.04 LTS:</h1>
<p>Version 18.04 was released in April 2018 and is guaranteed to have supported security and maintenance updates until April 2023</p>
<ul>
<li>Ubuntu is an ancient African word meaning <strong><em>humanity to others</em></strong>. It also means <strong><em>I am what I am because of who we all are</em></strong>.</li>
<li>Ubuntu is free/Libre Open-Source Software</li>
<li>Ubuntu is a computer operating system!!!</li>
<li>Ubuntu used the <strong><em>Linux kernel</em></strong></li>
</ul>
<p><strong>The Linux kernel on its own, is not an operating system, but rather a set of computer instructions, that enable communication between software applications and the data processing done at the hardware level.</strong></p>
<h1>Recommended system requirements:</h1>
<ul>
<li>2 GHz dual core processor or better</li>
<li>2 GB system memory or more</li>
<li>25 GB of free hard drive space</li>
<li><p>The Ubuntu <strong><em>iso</em></strong> image file</p>
<p>Also:</p>
</li>
<li>Internet access is helpful</li>
<li>Make sure you have a recent backup of your data. While it&#39;s unlikely that anything will go wrong, you can never be too prepared!!</li>
</ul>
<h1>What is an <strong><em>iso</em></strong> image file</h1>
<p>You will actually be downloading  an <strong>iso</strong> image file. ISO images are often used to distribute large programs over the internet due to the fact that all of the program&#39;s files can be neatly contained as a single file.</p>
<p>With this iso image, potentially you can:</p>
<ul>
<li>Install or upgrade Ubuntu</li>
<li>Test out the Ubuntu desktop experience without touching your PC configuration</li>
<li>Boot into Ubuntu on a borrowed machine or from an internet cafe</li>
<li>Use tools installed by default on the USB stick to repair or fix a broken configuration</li>
</ul>
<h1>Downloading Ubuntu 18.04 LTS</h1>
<p>Download the latest LTS version via the <a href="http://releases.ubuntu.com/">Ubuntu Releases page</a>. I do not recommend to download from anywhere else</p>
<ul>
<li>Scroll down to where the file description is. This is the one you will want to download:<br><img src="./img/BionicBeaver.jpg" alt="Ubuntu 18.04"></li>
</ul>
<ul>
<li><p>Find the standard <strong>iso</strong> image file for version 18.04
<img src="./img/ubuntuISO.jpg" alt="Ubuntu 18.04 iso"></p>
</li>
<li><p>Download this image to your desktop/preferred location
<img src="./img/SaveUbuntuISO.jpg" alt="Saving Ubuntu 18.04 iso"></p>
</li>
</ul>
<h1>Instajpglling Ubuntu using VirtualBox</h1>
<p>After you launch VirtualBox from the Windows Start menu, create a new virtual machine by clicking <strong><em>New</em></strong></p>
<p>When the New Virtual Machine Wizard appears, click <strong><em>Next</em></strong></p>
<p><img src="./img/virtualbox.jpg" alt="New Virtual Machine">
jpg
 - Click <strong>Next</strong> until it show the vm storage size. Put how much space you need depending on your hardisk</p>
<p> As you go through, please feel free to use any of the online resources available: websites, chat rooms, for example <a href="https://askubuntu.com/questions/142549/how-to-install-ubuntu-on-virtualbox">askubuntu.com</a></p>
<ul>
<li><p>Finish the wizard by clicking the <strong>Create</strong> button.</p>
<p>The <strong><em>New Virtual Machine Wizard</em></strong> will close and you will be brought back to VirtualBox Manager.</p>
</li>
<li><p>Select the Virtual Machine you&#39;ve just created and click <strong><em>Start</em></strong>
<img src="./img/VirtualBoxManager.jpg" alt="Start Ubuntu"></p>
</li>
</ul>
<h1>First Run Wizard</h1>
<ul>
<li><p>&quot;First Run Wizard&quot; will appear and click Next button.</p>
<p>On the second screen (as shown below), click at &#39;folder&#39; icon and choose your Ubuntu iso directory.
<img src="./img/InstallationMedia.jpg" alt="Select your Ubuntu iso file you saved above"></p>
<p>Select the location of your Ubuntu <strong><em>iso</em></strong> image file and click <strong><em>Next</em></strong> button.</p>
<ul>
<li><p>In &#39;Summary&#39; box, click Start button</p>
</li>
<li><p>This screen will appear when it start boot:</p>
</li>
</ul>
</li>
</ul>
<p><img src="./img/StartBoot.jpg" alt="Starting to boot iso file"></p>
<p> WELCOME TO UBUNTU!!!!!</p>
<h1>Tutorials and Extra Resources</h1>
<p>As mentioned above, there are many many tutorials and resources available online to assist such as <a href="http://www.psychocats.net/ubuntu/virtualbox">Installing Ubuntu inside Windows using VirtualBox</a> - albeit this particular one is slightly out of date, the principles still remain largely the same.</p>
<p>Ubuntu also has a very complete <a href="https://tutorials.ubuntu.com/">Tutorial page</a>.</p>
</li>
        
      </ul>
    </div>

    <script>
      $(document).ready(function() {
  const $images = $('.lab img');
  jQuery.each($images, function(i) {
    if ($images[i].alt.length > 0) {
      const divImg = $(document.createElement('div')).addClass('');
      $($images[i]).wrap(divImg);
      const divLabel = $(document.createElement('div')).addClass('uk-label uk-text-lowercase');
      divLabel.append($images[i].alt);
      $(divLabel).insertAfter($images[i]);
      $('<br>').insertAfter($images[i]);
    }
  });
});

    </script>
  </body>
</html>